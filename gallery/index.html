<!DOCTYPE html>
<html>
<head>
<meta name="referrer" content="no-referrer">
<title>Live Photo Wall</title>
<style>
body {
font-family: system-ui, sans-serif;
background: #fafafa;
margin: 0;
padding: 1rem;
}
.grid {
display: grid;
grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
gap: 12px;
}
.card {
background: white;
border-radius: 10px;
overflow: hidden;
box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}
img {
width: 100%;
display: block;
}
.caption {
padding: 8px;
font-size: 0.9rem;
}
</style>
</head>
<body>

<h2>ðŸ“¸ Live Photo Wall</h2>
<div class="grid" id="gallery"></div>

<script>
const FEED_URL = "https://script.google.com/macros/s/AKfycbzZOZ5OVt3-NztmTS-a9KqQUMn6DB6vkE2wGd6lxHnsgWOYNZ4BrrZh_GJvN0yXuJHi3Q/exec";

async function loadPhotos() {
const res = await fetch(FEED_URL);
const data = await res.json();

const photos = data.photos || []; // ðŸ‘ˆ THIS IS THE KEY FIX

const gallery = document.getElementById("gallery");
gallery.innerHTML = "";

photos.forEach(p => {
const card = document.createElement("div");
card.className = "card";

card.innerHTML = `
<img src="${p.url}" referrerpolicy="no-referrer" />
<div class="caption">${p.caption || ""}</div>
`;

gallery.appendChild(card);
});
}

loadPhotos();
setInterval(loadPhotos, 30000);
</script>

</body>
</html>
